let e=document.getElementById("open-menu"),t=document.getElementById("close-menu");function n(){let e=document.getElementById("nav-menu");"none"===window.getComputedStyle(e).display?e.style.display="block":e.style.display="none"}e.addEventListener("click",n),t.addEventListener("click",n);const o="https://mongodb-le01.onrender.com/cvs";async function i(e){if(console.log("CV ID att radera:",e),(await fetch(`${o}/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok){let t=document.querySelector(`[data-id="${e}"]`).parentElement;t.parentNode.removeChild(t)}else console.log("Kunde inte radera CV-post.")}!async function(){let e=await fetch(o),t=await e.json(),n=document.getElementById("main-container");n&&t.forEach(e=>{let t=document.createElement("article");t.innerHTML=`<p> <strong>F\xf6retagsnamn: </strong>${e.companyname}<br> 
        <strong>Jobbtitel:</strong> ${e.jobtitle}<br> 
        <strong>Plats: </strong>${e.location}<br>
        <strong>Beskrivning av arbetet:</strong> <br>${e.description}<br> </p>
        <button type="button" class="radera" data-id="${e._id}">Radera</button>`;let o=t.querySelector(".radera");o.addEventListener("click",function(){i(o.getAttribute("data-id"))}),n.appendChild(t)})}();let r=document.querySelector("form");async function l(e){let t=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});t.ok&&(document.getElementById("companyname").value="",document.getElementById("jobtitle").value="",document.getElementById("location").value="",document.getElementById("description").value=""),console.log(await t.json())}r&&r.addEventListener("submit",function(e){e.preventDefault(),document.getElementById("container-error").innerHTML="";let t=document.getElementById("companyname").value,n=document.getElementById("jobtitle").value,o=document.getElementById("location").value,i=document.getElementById("description").value;""===t&&(document.getElementById("container-error").innerHTML+=`<li>Skriv in f\xf6retagsnamn</li><br>`),""===n&&(document.getElementById("container-error").innerHTML+="<li>Skriv in jobbtitel</li><br>"),""===o&&(document.getElementById("container-error").innerHTML+="<li>Skriv in plats</li><br>"),""===i&&(document.getElementById("container-error").innerHTML+="<li>Skriv in beskrivning</li><br>");let r={companyname:t,jobtitle:n,location:o,description:i};console.log("cv-objektet:",r),l(r)});
//# sourceMappingURL=index.38e15211.js.map
